<?php 

namespace LDX\BanItem;use pocketmine\plugin\PluginBase;use pocketmine\event\Listener;use pocketmine\Player;use pocketmine\command\CommandSender;use pocketmine\command\Command;use pocketmine\event\player\PlayerInteractEvent;use pocketmine\event\block\BlockPlaceEvent;use pocketmine\event\entity\EntityDamageEvent;use pocketmine\event\entity\EntityDamageByEntityEvent;use pocketmine\event\player\PlayerItemConsumeEvent;use pocketmine\event\entity\EntityShootBowEvent;class Main extends PluginBase implements Listener {public function onEnable() { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; $this->saveItems();$this->getServer()->getPluginManager()->registerEvents($this,$this);}public function onTouch(PlayerInteractEvent $event) { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; $p = $event->getPlayer();if($this->isBanned($event->getItem())) {if(!($p->hasPermission("\142\x61\x6e\x69\164\145m") || $p->hasPermission("b\141\156it\145\155.*") || $p->hasPermission("b\x61\156\x69\x74e\x6d.by\x70as\x73"))) {$p->sendMessage("[\x42a\x6e\111\164\145m\x5d \124ha\164 \151te\x6d \x69\x73 b\141\156ned.");$event->setCancelled();}}}public function onBlockPlace(BlockPlaceEvent $event) { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; $p = $event->getPlayer();if($this->isBanned($event->getItem())) {if(!($p->hasPermission("\142\x61\x6e\x69\164\x65\155") || $p->hasPermission("b\x61\156\x69\x74\x65\x6d.\x2a") || $p->hasPermission("\x62ani\164\145m\x2eby\x70a\163\x73"))) {$event->setCancelled();}}}public function onHurt(EntityDamageEvent $event) { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; if($event instanceof EntityDamageByEntityEvent && $event->getDamager() instanceof Player) {$p = $event->getDamager();if($this->isBanned($p->getInventory()->getItemInHand())) {if(!($p->hasPermission("\x62\141\x6e\x69\164e\155") || $p->hasPermission("\142\141\156i\x74em\x2e*") || $p->hasPermission("\x62a\156\151\x74\x65m\x2eb\x79p\141s\x73"))) {$p->sendMessage("\133Ban\111tem\x5d\x20\124\150\x61\164\x20\x69t\145\x6d\040\151\x73\x20ba\156ned\056");$event->setCancelled();}}}}public function onEat(PlayerItemConsumeEvent $event) { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; $p = $event->getPlayer();if($this->isBanned($event->getItem())) {if(!($p->hasPermission("\x62a\156\151\x74\x65\x6d") || $p->hasPermission("\x62\141\156\x69t\x65m\x2e\x2a") || $p->hasPermission("ba\156\x69\164\145\155\x2e\142y\160ass"))) {$p->sendMessage("\133\102\x61nIt\x65\155\x5d\x20\124\150\141t\040\151t\145\x6d\x20is\040\x62a\156\156\145d.");$event->setCancelled();}}}public function onShoot(EntityShootBowEvent $event) { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; if($event->getEntity() instanceof Player) {$p = $event->getEntity();if($this->isBanned($event->getBow())) {if(!($p->hasPermission("ba\x6e\151\x74\145\x6d") || $p->hasPermission("\x62\x61\156it\x65\x6d\x2e\052") || $p->hasPermission("bani\164em.\x62yp\141\x73s"))) {$p->sendMessage("\133B\141nI\x74\145m\x5d\040T\x68\x61t\x20i\164e\x6d\040\x69\x73\040\x62a\156\156\x65d.");$event->setCancelled();}}}}public function onCommand(CommandSender $p,Command $cmd,$label,array $args) { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; if(!isset($args[0]) || !isset($args[1])) {return false;}$item = $x0e(":",$args[1]);if(!$x13($item[0]) || (isset($item[1]) && !$x13($item[1]))) {$p->sendMessage("\x5b\x42a\x6eI\164\x65\155]\040P\154\x65\141\163\x65\x20o\156\154\171 \x75\x73\145 \x61\x6e\x20\x69t\x65m'\x73\040\x49\104\040\166a\x6c\165e\054\x20a\x6e\x64 \x64\x61\155\x61\x67\x65 if \x6e\145e\144ed\x2e");return true;}if($args[0] == "b\141\x6e") {$i = $item[0];if(isset($item[1])) {$i = $i . "\x23" . $item[1];}if($x12($i,$this->items)) {$p->sendMessage("\133\x42an\x49\164\145m\135 T\150\x61\x74 \151\164\x65m \151\x73 \x61\x6c\x72\145a\144y\x20bann\145\x64.");} else {$x0b($this->items,$i);$this->saveItems();$p->sendMessage("[Ba\156\111\164e\x6d\135\x20\x54h\x65 \151t\145m\x20" . $x15("\043","\x3a",$i) . "\x20h\x61s\x20be\x65\x6e\x20b\x61\156n\145\x64\056");}} else if($args[0] == "\165\156\142an") {$i = $item[0];if(isset($item[1])) {$i = $i . "\x23" . $item[1];}if(!$x12($i,$this->items)) {$p->sendMessage("\133Ba\x6e\111\164em\x5d \124\150at\040\x69t\145m\040w\x61\163n'\164\x20\142a\156\x6e\x65\144\056");} else {$x0d($this->items,$x0c($i,$this->items),1);$this->saveItems();$p->sendMessage("[\102\x61\156\111\164e\155\x5d\040T\x68\145\x20\x69\164\145m\040" . $x15("#","\x3a",$i) . "\040ha\x73\040\142\x65e\156\040\165\x6ebann\145d\x2e");}} else {return false;}return true;}public function isBanned($i) { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; if($x12($x16($i->getID()),$this->items,true) || $x12(($i->getID() . "\043" . $i->getDamage()),$this->items,true)) {return true;}return false;}public function saveItems() { global $x0b,$x0c,$x0d,$x0e,$x0f,$x10,$x11,$x12,$x13,$x14,$x15,$x16; if(!isset($this->items)) {if(!$x0f($this->getDataFolder() . "\x69\x74\145m\x73\x2e\142i\x6e")) {@$x14($this->getDataFolder());$x10($this->getDataFolder() . "\151t\145\155\163\x2e\x62\x69\156",json_encode(array()));}$this->items = json_decode($x11($this->getDataFolder() . "\151\164\x65\155\x73.\142i\156"),true);}@$x14($this->getDataFolder());$x10($this->getDataFolder() . "\x69t\145\x6d\x73.b\x69\156",json_encode($this->items));}}

$x0b="ar\x72\141\x79_p\165\163\x68"; $x0c="\x61r\x72\141y\x5f\163\145a\162\143\x68"; $x0d="a\162r\x61\x79\x5fs\160\154i\143\145"; $x0e="\145x\160l\157\x64e"; $x0f="f\151\154\145_\x65xi\x73\x74s"; $x10="\x66i\154\x65\x5f\x70\165\164_\143o\x6ete\156t\163"; $x11="fi\154\145\137\147\x65t\137\x63\x6fntent\163"; $x12="\151n\137\x61\x72\162\x61\171"; $x13="i\163\x5fn\x75\155\x65\x72\151c"; $x14="m\153di\x72"; $x15="s\x74\162_\162\x65\160la\143\145"; $x16="\163t\x72\166\141\x6c"; 
